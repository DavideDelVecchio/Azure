#Test a createUiDefinition

This document explains how to test your createUiDefinition file without publishing to Azure Marketplace.
 
##Validate the UI in the side loading tool

- Upload your createUiDefinition file to GitHub or a location that can be publicly accessed through a URL, note that you need the URL to the *raw* file, not the html page that displays the file.  On GitHub, the URL for the raw file will typically be `https://raw.githubusercontent.com`/<`your repo`\>/<`branch`\>/<`your file`\> 
- Use a URL encoding tool to encode your URL, for example, [this online encoding tool](http://meyerweb.com/eric/tools/dencoder/) does the job
- Replace the **highlighted** part of this URL with your encoded URL *`https://portal.azure.com/?clientOptimizations=false#blade/Microsoft_Azure_Compute/CreateMultiVmWizardBlade/internal_bladeCallId/anything/internal_bladeCallerParams/{"initialData":{},"providerConfig":{"createUiDefinition":"`<strong>http%3A%2F%2Fyoururltocreateuidefinition.jsonURLencoded</strong>`"}}`*
- Copy and paste the above updated URL to the address bar of a browser window, it should lead you to the Azure portal and start the UI. The first time you access the URL, it might lead you to the home page of the Azure portal.  Load it again, and you should be able to see the UI
- Note that you can't use this side loading tool to deploy your solution, it's for previewing the UI only.  If you click on the "Buy" button, you will see an error and this is by design.

###Troubleshooting
If you see "No results" in the UI, open the browser developer tool.  In the console of the developer tool, you should be able to see the error messages. 
![Alt text](/CreateUiDefinition/images/troubleshoot.PNG?raw=true "troubleshoot in developer tool") 

##Test the deployment  ###

- Once you are happy with the UI, open the browser developer tool if it's not already open.  As you navigate to the **Summary** page of the UI wizard, you should be able to see the parameters generated by the UI in the console of the developer tool.  The parameters are written out in a format that's ready for ARM template to consume.   
![Alt text](/CreateUiDefinition/images/output.PNG?raw=true "parameter output from UI") 
- Create a parameter file for your ARM template, and replace the **highlighted** part with the output from the UI. 
```json
{
    "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
    "contentVersion": "1.0.0.0",
    "parameters": **replace-with-UI-output-here**
}
```
- Now use Azure PowerShell or cross platform command line tool to deploy the template. 
